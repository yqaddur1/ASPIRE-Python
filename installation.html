<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; ASPIRE 0.10.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="_static/sg_gallery-rendered-html.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Getting Started" href="quickstart.html" />
    <link rel="prev" title="Aspire v0.10.1" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> ASPIRE
          </a>
              <div class="version">
                0.10.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install-conda">Install Conda</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-and-activate-the-environment">Install and Activate the environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#alternative-developer-installations">Alternative Developer Installations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#test-the-package">Test the package</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-gpu-extensions">Installing GPU Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generating-documentation">Generating Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Galleries:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="auto_tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_experiments/index.html">Experiments</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ASPIRE</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>ASPIRE comes with an <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> for reproducing a working Conda environment based on Python 3.8 to run the package.
The package is tested on Linux/Windows/Mac OS X. Pre-built binaries are available for all platform-specific components. No manual
compilation should be needed.</p>
<section id="install-conda">
<h2>Install Conda<a class="headerlink" href="#install-conda" title="Permalink to this headline">¶</a></h2>
<p>To follow the suggested installation, you will need to install Conda for <strong>Python3</strong>, either
<a class="reference external" href="https://www.anaconda.com/download/#linux">Anaconda</a> or
<a class="reference external" href="https://conda.io/miniconda.html">Miniconda</a>, click on the right
distribution to view Conda’s installation instructions.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you’re not sure which distribution is right for you, go with <a class="reference external" href="https://conda.io/miniconda.html">Miniconda</a></p>
</div>
</section>
<section id="install-and-activate-the-environment">
<h2>Install and Activate the environment<a class="headerlink" href="#install-and-activate-the-environment" title="Permalink to this headline">¶</a></h2>
<p>For most end users, simply installing the package is sufficient to use ASPIRE.
The commands in this section should install ASPIRE directly from the <code class="docutils literal notranslate"><span class="pre">Python</span> <span class="pre">Package</span> <span class="pre">Index</span></code> into your activated environment.
This does not require checking out source code.
If you are interested in checking out and working with the source code, running tests, or a different flavor of install,
then skip to the next section now instead.</p>
<p>Once <code class="docutils literal notranslate"><span class="pre">conda</span></code> is installed and available on the path, we can create a fresh <code class="docutils literal notranslate"><span class="pre">conda</span></code> environment.
Here we have chosen to name it <code class="docutils literal notranslate"><span class="pre">aspire_env</span></code>, but you may choose any name you like so long as that name is used consistently in the following step.
After creating the environment, we activate it.
Finally, we install the <code class="docutils literal notranslate"><span class="pre">aspire</span></code> package inside the activated environment. This should install all supporting Python software required.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">--</span><span class="n">name</span> <span class="n">aspire_env</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.8</span> <span class="n">pip</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">aspire_env</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">aspire</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Installing the package installs ASPIRE to the <code class="docutils literal notranslate"><span class="pre">site-packages</span></code> folder of your active environment.
This is only desirable if you are not going to be doing any development on ASPIRE,
but simply want to run scripts that depend on the ASPIRE package.</p>
</div>
</section>
<section id="alternative-developer-installations">
<h2>Alternative Developer Installations<a class="headerlink" href="#alternative-developer-installations" title="Permalink to this headline">¶</a></h2>
<p>Developers are expected to be able to manage their own code and environments.
However, for consistency and newcomers, we recommend the following procedure using <cite>conda</cite>.
Note that here the name <code class="docutils literal notranslate"><span class="pre">aspire_dev</span></code> was chosen, but you may choose any name for the <code class="docutils literal notranslate"><span class="pre">conda</span></code> environment.
Some people use different environment names for different features,
but this is personal preference and will largely depend on what type of changes you are making.
For example, if you are making changes to dependent package versions for testing,
you would probably want to keep that in a seperate environment.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Acquire the code.</span>
<span class="n">git</span> <span class="n">clone</span> <span class="o">-</span><span class="n">b</span> <span class="n">develop</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ComputationalCryoEM</span><span class="o">/</span><span class="n">ASPIRE</span><span class="o">-</span><span class="n">Python</span>
<span class="n">cd</span> <span class="n">ASPIRE</span><span class="o">-</span><span class="n">Python</span>

<span class="c1"># Create&#39;s the conda environment and installs base dependencies.</span>
<span class="n">conda</span> <span class="n">env</span> <span class="n">create</span> <span class="o">-</span><span class="n">f</span> <span class="n">environment</span><span class="o">.</span><span class="n">yml</span> <span class="o">--</span><span class="n">name</span> <span class="n">aspire_dev</span>

<span class="c1"># Activate the environment</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">aspire_dev</span>

<span class="c1"># Command to install the aspire package in a locally editable way:</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>We recommend using <code class="docutils literal notranslate"><span class="pre">conda</span></code> or a <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> environment managing solutions because ASPIRE may have conflicts or change installed versions of Python packages on your system.</p>
<p>Again, we recommend the above for consistency.
However, ASPIRE is a <code class="docutils literal notranslate"><span class="pre">pip</span></code> package,
so you can attempt to install it using standard <code class="docutils literal notranslate"><span class="pre">pip</span></code> or <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> commands.  There are methods such as <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">--no-deps</span></code> that can leave your other packages undisturbed, but this is left to the developer.
ASPIRE should generally be compatible with newer version of Python, and newer dependent packages. We are currently testing 3.7, 3.8, 3.9, and 3.10 base Python as configured by ASPIRE, and with upgrading packages to the latest for each of those bases.
If you encounter an issue with a custom pip install, we will try to help, but you may be on your own for support of this method of installation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Standard pip site-packages installation command</span>
<span class="n">cd</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">aspire</span><span class="o">-</span><span class="n">repo</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">.</span>

<span class="c1"># Standard pip developer installation</span>
<span class="n">cd</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">aspire</span><span class="o">-</span><span class="n">repo</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
</section>
<section id="test-the-package">
<h2>Test the package<a class="headerlink" href="#test-the-package" title="Permalink to this headline">¶</a></h2>
<p>Make sure all unit tests run correctly by doing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">git</span><span class="o">/</span><span class="n">clone</span><span class="o">/</span><span class="n">folder</span>
<span class="n">pytest</span>
</pre></div>
</div>
<p>Tests currently take around 5 minutes to run, but this depends on your specific machine’s resources.</p>
</section>
<section id="installing-gpu-extensions">
<h2>Installing GPU Extensions<a class="headerlink" href="#installing-gpu-extensions" title="Permalink to this headline">¶</a></h2>
<p>GPU extensions can be installed using pip.
Extensions are grouped based on CUDA versions.
To find the CUDA driver version, run <code class="docutils literal notranslate"><span class="pre">nvidia-smi</span></code>.</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">CUDA GPU Extension Versions</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>CUDA Version</p></th>
<th class="head"><p>ASPIRE Extension</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>10.2</p></td>
<td><p>gpu_102</p></td>
</tr>
<tr class="row-odd"><td><p>11.0</p></td>
<td><p>gpu_110</p></td>
</tr>
<tr class="row-even"><td><p>11.1</p></td>
<td><p>gpu_111</p></td>
</tr>
<tr class="row-odd"><td><p>&gt;=11.2</p></td>
<td><p>gpu_11x</p></td>
</tr>
</tbody>
</table>
<p>For example, if you have CUDA 11.7 installed on your system,
the command below would install GPU packages required for ASPIRE.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># From PyPI</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="s2">&quot;aspire[gpu_11x]&quot;</span>

<span class="c1"># From a local git repo</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="s2">&quot;.[gpu_11x]&quot;</span>
</pre></div>
</div>
<p>By default if GPU extensions are correctly installed,
ASPIRE should automatically begin using the GPU for select components
(such as those using <code class="docutils literal notranslate"><span class="pre">nufft</span></code>).</p>
</section>
<section id="generating-documentation">
<h2>Generating Documentation<a class="headerlink" href="#generating-documentation" title="Permalink to this headline">¶</a></h2>
<p>Sphinx Documentation of the source (a local copy of what you’re looking at right now) can be generated using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">git</span><span class="o">/</span><span class="n">clone</span><span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">docs</span>
<span class="n">sphinx</span><span class="o">-</span><span class="n">apidoc</span> <span class="o">-</span><span class="n">f</span> <span class="o">-</span><span class="n">o</span> <span class="o">./</span><span class="n">source</span> <span class="o">../</span><span class="n">src</span> <span class="o">-</span><span class="n">H</span> <span class="n">Modules</span>
<span class="n">make</span> <span class="n">clean</span>
<span class="n">make</span> <span class="n">html</span>
</pre></div>
</div>
<p>The built html files can be found at <code class="docutils literal notranslate"><span class="pre">/path/to/git/clone/folder/docs/build/html</span></code></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Aspire v0.10.1" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="quickstart.html" class="btn btn-neutral float-right" title="Getting Started" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Princeton University.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>